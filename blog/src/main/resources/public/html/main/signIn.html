<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>sign In</title>
<meta name="viewport"content="width=device-width, initial-scale=1.0 ,maximum-scale=1.0, minimum-scale=1.0,user-scalable=no">
 <script type="text/javascript" src="/assets/js/fetch.umd.js"></script>
</head>

<body>



<h1>hillow 여기는 로그인 페이지얌 ^오^</h1>
각 앱마다 어떻게 vue가 적용되는지 index.js 참고해서 ㄱㄱ

<div class="singInFrame">
<form action="/auth/user/signIn" id="loginFrame" method="post">
<label for="userId">아이디</label>
<input type="text" name="userId" id="userId"/>
<label for="password">비밀번호</label>
<input type="password" name="password" id="password"/>
</form>
<button type="btn-login" onclick="signIn()">로그인</button>
</div>

</body>


<script>
var host= window.location.host;
var domain= "http://" +host;
function signIn( ) {
var userId = document.getElementById("userId").value;
var password = document.getElementById("password").value;
var loginFrame = document.getElementById("loginFrame")

		var usrObj={
			userId:userId,
			password:password,

	}

		//아이디 비번에 공백없으면 로그인 프로세스를 타야지
		//암호화는 생각하지말고 일단 폼만 submit시켜서 (/login을 타게하자)
		if(loginValid()){
			console.log("loginValid")
			loginFrame.submit();
		}
		//여기로 보내면 안되거
		//loginprocessurl로 등록된 애한테 태워야되는데
		//어차피 나중에 암호화 할꺼니까 폼의 버튼으로 submit하는게 아니라
		//함수로 받은 다음에 폼을 js로 submit , 나중에 암호화 할때 함수 안에서 바로 처리해버리게
	/* fetch(domain+"/auth/user/signIn",{
		method: "post",
		headers:{
			"Content-Type":"application/json",
			"charset":"utf-8"
		},
		body: JSON.stringify(usrObj)
	})
	.then(res=>res.json())
	.then((res)=>{
		console.log(res)
		//window.location.href=domain+"/html/main/signIn.html"
	})
	.catch(err=>console.log(err)) */
}
function loginValid (){
	var idInput = document.getElementById("userId")
	var pwInput= document.getElementById("password")
	var userId = idInput.value;
	var password = pwInput.value;
	userId = userId.trim()
	password = password.trim()
	var regex = / /gi;
	userId= userId.replace(regex, '');  // 'abcde'
	password = password.replace(regex, '');  // 'abcde'
 	if(userId ==''){
 		alert("아이디를 정확히 입력해 주세여")
 		idInput.focus();
 		return false;
 	}
	if(password==''){
		alert("비밀번호를 정확히 입력해 주세여")
		pwInput.focus();
		return false;
	}

	return true;
}
</script>
<style>

.signInFrame{
border: 1px solid aquamarine;
}
</style>